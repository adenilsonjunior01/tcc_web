<!-- Formulário Convênio -->
<mat-tab-group>
    <mat-tab label="PERFIL">
        <app-tab-perfil [dadosUser]="dadosUser"></app-tab-perfil>
    </mat-tab>
    <mat-tab label="CONVÊNIO E COMPARTILHAMENTO">
        <div class="row m-0 pt-4">
            <div class="col-12 col-md-4 mt-3 mt-md-0">
                <app-card-content isHeader="true">
                    <div class="card-header">
                        <div class="row m-0 py-2">
                            <div class="col-12 d-flex justify-content-between align-items-center p-0">
                                <h4 class="m-0">Detalhes</h4>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <ul class="detalhes">
                                <li>
                                    <span
                                        ><strong>Convênio:</strong>
                                        {{
                                            dadosUser?.paciente?.descConvenio !== null
                                                ? dadosUser?.paciente?.descConvenio
                                                : 'Sem registro'
                                        }}</span
                                    >
                                </li>
                                <li>
                                    <span
                                        ><strong>Nº Inscrição:</strong>
                                        {{
                                            dadosUser?.paciente?.nuInscricaoConvenio !== null
                                                ? dadosUser?.paciente?.nuInscricaoConvenio
                                                : 'sem registro'
                                        }}</span
                                    >
                                </li>
                                <li>
                                    <span
                                        ><strong>Compartilhar dados:</strong>
                                        {{ dadosUser?.paciente?.compartilhaDados === true ? 'Sim' : 'Não' }}</span
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                </app-card-content>
            </div>
            <div class="col-12 col-md-8 mt-3 mt-md-0">
                <app-card-content isHeader="true">
                    <div class="card-header">
                        <div class="row m-0 py-2">
                            <div class="col-12 d-flex justify-content-between align-items-center p-0">
                                <h4 class="m-0">Atualizar Dados</h4>
                            </div>
                        </div>
                    </div>
                    <form [formGroup]="form">
                        <div class="row m-0 py-2">
                            <div class="col-6 col-md-4">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Descrição convênio</mat-label>
                                    <input type="text" matInput autocomplete="off" formControlName="descConvenio" />
                                </mat-form-field>
                            </div>
                            <div class="col-6 col-md-4">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Nº Inscrição convênio</mat-label>
                                    <input
                                        type="text"
                                        matInput
                                        autocomplete="off"
                                        formControlName="nuInscricaoConvenio"
                                    />
                                </mat-form-field>
                            </div>
                            <div class="col-12">
                                <mat-checkbox class="example-margin" formControlName="compartilhaDados" color="primary"
                                    >Compartilhar dados</mat-checkbox
                                >
                            </div>
                            <div class="col-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-secondary me-3" (click)="clearFormConvenio()">
                                    <i class="feather icon-x"></i>
                                    limpar
                                </button>
                                <button
                                    type="button"
                                    class="btn btn-primary"
                                    [disabled]="loading"
                                    (click)="updatePaciente()"
                                >
                                    <ng-container *ngIf="loading">
                                        <span
                                            class="spinner-grow spinner-grow-sm"
                                            role="status"
                                            aria-hidden="true"
                                        ></span>
                                        <span class="sr-only">Aguarde...</span>
                                    </ng-container>
                                    <span *ngIf="!loading">
                                        <i class="feather icon-check"></i>
                                        salvar
                                    </span>
                                </button>
                            </div>
                        </div>
                    </form>
                </app-card-content>
            </div>
        </div>
    </mat-tab>
    <mat-tab label="DADOS MÉDICOS">
        <div class="pt-4">
            <app-update-dados-medicos></app-update-dados-medicos>
        </div>
    </mat-tab>
    <mat-tab label="SENHA">
        <app-tab-senha></app-tab-senha>
    </mat-tab>
</mat-tab-group>
