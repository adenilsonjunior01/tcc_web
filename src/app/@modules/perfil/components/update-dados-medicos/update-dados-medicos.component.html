<div class="row">
  <div class="col-12 col-md-8">
    <app-card-content isHeader="true">
      <div class="card-header">
        <div class="row m-0">
          <div class="col-12 d-flex justify-content-between align-items-center p-0">
            <h4 class="m-0">Dados Médicos</h4>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-4">
          <ul class="detalhes">
            <li>
              <span>
                <strong>Tipo Sanguineo:</strong>
                {{
                  dadosMedicos?.tipoSanguineo?.descricaoTipoSanguineo !== null
                    ? dadosMedicos?.tipoSanguineo?.descricaoTipoSanguineo
                    : 'sem registro'
                }}
              </span>
            </li>
            <li>
              <span
                ><strong>Altura:</strong> {{ dadosMedicos?.altura !== null ? dadosMedicos?.altura : 'sem registro' }}
              </span>
            </li>
            <li>
              <span
                ><strong>Peso:</strong> {{ dadosMedicos?.peso !== null ? dadosMedicos?.peso : 'sem registro' }}
              </span>
            </li>
          </ul>
        </div>
        <div class="col-12 col-md-4">
          <ul class="detalhes">
            <li>
              <span>
                <strong>Valor IMC:</strong>
                {{ dadosMedicos?.vlImc !== null ? dadosMedicos?.vlImc : 'sem registro' }}
              </span>
            </li>
            <li>
              <span>
                <strong>Descrição:</strong>
                {{ dadosMedicos?.descImc !== null ? dadosMedicos?.descImc : 'sem registro' }}
              </span>
            </li>
          </ul>
        </div>
      </div>
      <!-- <div class="row">
        <div class="col-12 d-flex justify-content-between align-items-center mb-3">
          <h3 class="m-0">Detalhes</h3>
        </div>

        <div class="col-12">
          <mat-accordion class="">
            <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <strong>Alergias</strong>
                </mat-panel-title>
                <mat-panel-description>

                </mat-panel-description>
              </mat-expansion-panel-header>
              <ul *ngIf="alergias.length > 0; else semregistro">
                <li *ngFor="let alergia of alergias">
                  <span>{{ alergia?.descAlergia }}</span>
                </li>
              </ul>
              <mat-action-row>
                <button mat-button color="primary" (click)="nextStep()">próximo</button>
              </mat-action-row>
            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <strong>Medicamentos</strong>
                </mat-panel-title>
                <mat-panel-description>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <ul *ngIf="medicamentos.length > 0; else semregistro">
                <li *ngFor="let medicamento of medicamentos">
                  <span>{{ medicamento?.descMedicamento }}</span>
                </li>
              </ul>
              <mat-action-row>
                <button mat-button color="warn" (click)="prevStep()">voltar</button>
                <button mat-button color="primary" (click)="nextStep()">próximo</button>
              </mat-action-row>
            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <strong>Doenças crônicas</strong>
                </mat-panel-title>
                <mat-panel-description>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <ul *ngIf="doencasCronicas.length > 0; else semregistro">
                <li *ngFor="let cronica of doencasCronicas">
                  <span>{{ cronica?.descDoenca }}</span>
                </li>
              </ul>
              <mat-action-row>
                <button mat-button color="warn" (click)="prevStep()">voltar</button>
                <button mat-button color="primary" (click)="nextStep()">fechar</button>
              </mat-action-row>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </div> -->
    </app-card-content>
  </div>
  <div class="col-12 col-md-4" style="height: 300px">
    <app-card-content isHeader="true">
      <div class="card-header">
        <div class="row m-0">
          <div class="col-12 d-flex justify-content-between align-items-center p-0">
            <h4 class="m-0">Editar Dados Médicos</h4>
          </div>
        </div>
      </div>
      <form [formGroup]="form">
        <div class="row m-0 dados-medicos">
          <div class="col-12">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Tipo Sanguineo</mat-label>
              <mat-select formControlName="tipoSanguineo">
                <mat-option [value]="tipo.id" *ngFor="let tipo of tiposSanguineo"
                  >{{ tipo?.descricaoTipoSanguineo }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Altura</mat-label>
              <input matInput type="text" formControlName="altura" />
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Peso</mat-label>
              <input matInput type="text" formControlName="peso" />
            </mat-form-field>
          </div>
          <div class="col-12" *ngIf="messageError !== ''">
            <p class="m-0 is-invalid">[Error] {{ messageError }}</p>
          </div>
          <div class="col-12 d-flex justify-content-end pt-3">
            <button type="button" class="btn btn-secondary me-3" (click)="clearForm()">
              <i class="feather icon-x"></i>
              limpar
            </button>
            <button type="button" class="btn btn-primary" [disabled]="loading" (click)="updateDadosMedicos()">
              <ng-container *ngIf="loading">
                <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
                <span class="sr-only">Aguarde...</span>
              </ng-container>
              <span *ngIf="!loading">
                <i class="feather icon-check"></i>
                salvar
              </span>
            </button>
          </div>
        </div>
      </form>
    </app-card-content>
  </div>
</div>
<ng-template #semregistro>
  <p class="m-0">sem registros</p>
</ng-template>
